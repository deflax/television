{% extends 'base.html' %}

{% block metadata %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="{{ video_file[:-4] }}">
    <meta property="og:description" content="DeflaxTV">
    <meta property="og:type" content="video.movie">
    <meta property="og:url" content={{ url_for('video_watch_route', video_file_no_extension=video_file[:-4], _external=True) }}>
    <meta property="og:image" content={{ url_for('thumb_route', thumb_file=thumb_file, _external=True) }}>
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="1200"> 
    <meta property="og:image:height" content="630">
    <meta name='twitter:card' content='summary_large_image'>
    <meta name='twitter:site' content='DeflaxTV Video'>
    <meta name='twitter:title' content={{ url_for('video_watch_route', video_file_no_extension=video_file[:-4], _external=True) }}>
    <meta name='twitter:description' content="{{ video_file[:-4] }}">
    <meta name='twitter:image' content={{ url_for('thumb_route', thumb_file=thumb_file, _external=True) }}>
    <meta name='twitter:image:alt' content="{{ video_file[:-4] }}">
{% endblock %}

{% block title %}â–· {{ video_file[:-4] }} - deflax.net{% endblock %}

{% block content %}
<div class="content-container bg-dark text-white">
    <div id="stream" class="container-fluid p-3 bg-dark text-white">
    <div class="row">
        <div class="col-md-1 d-none d-md-block">
        </div>
        <div class="col-12 col-lg-10">
            <div class="content">
                <video id="player" controls crossorigin playsinline poster="{{ url_for('thumb_route', thumb_file=thumb_file) }}">
                    <source src="{{ url_for('video_route', video_file=video_file) }}" type="video/mp4">
                </video>
            </div>
        </div>
        <div class="col-xs-12 col-md-1">
        </div>
    </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const player = new Plyr('#player');
    });
</script>
{% endblock %}
